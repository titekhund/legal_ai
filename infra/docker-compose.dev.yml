version: '3.8'

# TODO: Implement development docker-compose configuration
# This extends docker-compose.yml for local development

services:
  # Backend API (development)
  backend:
    # TODO: Configure backend for development
    # - Enable hot reload
    # - Mount source code as volume
    # - Expose debug ports
    # - Set development environment variables
    build:
      context: ../backend
      dockerfile: Dockerfile
      target: development  # TODO: Add multi-stage build
    # ports:
    #   - "8000:8000"
    #   - "5678:5678"  # debugpy port
    # volumes:
    #   - ../backend:/app
    # environment:
    #   - API_ENV=development
    #   - LOG_LEVEL=DEBUG
    # command: uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

  # Frontend (development)
  frontend:
    # TODO: Configure frontend for development
    # - Enable hot reload
    # - Mount source code as volume
    build:
      context: ../frontend
      dockerfile: Dockerfile
      target: development
    # ports:
    #   - "3000:3000"
    # volumes:
    #   - ../frontend:/app
    #   - /app/node_modules
    # environment:
    #   - NODE_ENV=development
    # command: npm run dev

  # PostgreSQL Database (development)
  postgres:
    # TODO: Configure PostgreSQL for development
    # image: postgres:15-alpine
    # ports:
    #   - "5432:5432"  # Expose for local debugging
    # environment:
    #   POSTGRES_DB: legal_ai_dev
    #   POSTGRES_USER: dev
    #   POSTGRES_PASSWORD: dev

  # Redis (development)
  redis:
    # TODO: Configure Redis for development
    # image: redis:7-alpine
    # ports:
    #   - "6379:6379"

  # pgAdmin (optional - for database management)
  # pgadmin:
  #   image: dpage/pgadmin4
  #   ports:
  #     - "5050:80"
  #   environment:
  #     PGADMIN_DEFAULT_EMAIL: admin@legal-ai.local
  #     PGADMIN_DEFAULT_PASSWORD: admin
